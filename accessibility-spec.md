# Web Accessibility Implementation Guide (WCAG 2.2 Compliant)

## 1. 概要
本ドキュメントは、WCAG 2.2 (Web Content Accessibility Guidelines 2.2) に基づき、AIがアクセシブルなコード生成、設計レビュー、およびテストを行うための参照用ソースである。

---

## 2. アクセシビリティの4原則 (POUR)
すべてのコンテンツは以下の4原則を満たさなければならない。

1. **知覚可能 (Perceivable):** 情報とUI要素は、ユーザーが知覚できる形で提示される。
2. **操作可能 (Operable):** UI要素とナビゲーションは、すべてのユーザーが操作できる。
3. **理解可能 (Understandable):** 情報と操作方法が明快である。
4. **堅牢 (Robust):** 支援技術（スクリーンリーダー等）を含む多様なユーザーエージェントで確実に解釈できる。

---

## 3. WCAG 2.2 主要成功基準チェックリスト

### 3.1 知覚可能 (Perceivable)
| 基準ID | 項目名 | レベル | 実装要件 |
| :--- | :--- | :--- | :--- |
| 1.1.1 | 非テキストコンテンツ | A | 全ての画像に `alt` 属性を付与する。装飾目的は `alt=""`。 |
| 1.3.1 | 情報及び関係性 | A | 見出し (`<h1>`-`<h6>`)、リスト、テーブルをセマンティックなHTMLで構築する。 |
| 1.4.3 | コントラスト (最小限) | AA | テキストと背景のコントラスト比を 4.5:1 以上にする。 |
| 1.4.11 | 非テキストのコントラスト | AA | UIコンポーネントの境界やグラフィックに対し 3:1 以上の比率を確保する。 |

### 3.2 操作可能 (Operable)
| 基準ID | 項目名 | レベル | 実装要件 |
| :--- | :--- | :--- | :--- |
| 2.1.1 | キーボード | A | 全ての機能をキーボードのみで操作可能にする。 |
| 2.4.3 | フォーカス順序 | A | タブ移動が論理的な順序で行われるようにする。 |
| 2.4.7 | フォーカスの可視化 | AA | 現在どの要素にフォーカスがあるか視覚的に明示する。 |
| **2.4.11** | **フォーカスの非隠蔽** | **AA** | (2.2新設) ヘッダー等でフォーカス中の要素が隠れないようにする。 |
| **2.5.8** | **ターゲットのサイズ** | **AA** | (2.2新設) クリック対象を原則 24x24 CSSピクセル以上にする。 |

### 3.3 理解可能 (Understandable)
| 基準ID | 項目名 | レベル | 実装要件 |
| :--- | :--- | :--- | :--- |
| 3.2.1 | フォーカス時 | A | フォーカスを得ただけで自動的に送信やページ遷移を行わない。 |
| 3.3.2 | ラベル又は説明 | A | 入力フォームには `<label>` や `aria-labelledby` を提供する。 |
| **3.3.8** | **アクセシブルな認証** | **AA** | (2.2新設) パズルや計算を強いない。パスワードマネージャーを許可する。 |

---

## 4. 実装ガイドライン (AIへの指示用)

### セマンティックHTMLの徹底
- `<div>` や `<span>` でボタンやリンクを模倣せず、`<button>` や `<a>` を使用すること。
- ページの論理構造に従って見出しレベルをスキップせずに配置すること。

### WAI-ARIA の適切な使用
- **ARIA is better than no ARIA, but no ARIA is better than bad ARIA.**
- HTML5の標準タグで表現できない動的なUI（タブ、モーダル、アコーディオン）にのみ `role` や `aria-*` 属性を使用する。
- 例: `aria-expanded`, `aria-haspopup`, `aria-controls`, `aria-live="polite"`.

### フォームの実装
- 全ての `input` には対応する `label` を `for` 属性で紐付けること。
- エラーメッセージは `aria-describedby` で入力項目と関連付けること。

---

## 5. AIプロンプト用命令セット
AIに対してコード生成を依頼する際、以下のテキストをプロンプトに含めることで品質を担保する。

> "WCAG 2.2 レベルAAに準拠したコードを生成してください。特に以下の点に注意してください：
> 1. セマンティックなHTMLタグの選択
> 2. キーボード操作の担保とフォーカス管理
> 3. スクリーンリーダー向けの適切なARIA属性の付与
> 4. WCAG 2.2で追加された『ターゲットサイズ(2.5.8)』および『フォーカスの非隠蔽(2.4.11)』の考慮"

---

## 6. 参照リソース
- [W3C WCAG 2.2 公式ドキュメント](https://www.w3.org/TR/WCAG22/)
- [WAI-ARIA Authoring Practices (APG)](https://www.w3.org/WAI/ARIA/apg/patterns/)
